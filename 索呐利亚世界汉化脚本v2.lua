local Translations = {
    --["这里填要替换的英文"] = "这里填中文",
    ["LUNAR"] = "巫汉化之神",
    ["Menu"] = "菜单",
    ["Get Max Storage Slots"] = "获得最大存储槽位",
    ["LocalPlayer"] = "本地玩家",
    ["Auto Scent Hidden"] = "自动隐藏气味",
    ["Prevent other players from sniffing your creature!"] = "防止其他玩家嗅探你的生物！",
    ["Instant Lobby Return"] = "即时大厅返回",
    ["No cooldown to go to the lobby!"] = "无需冷却即可返回大厅！",
    ["Always Keen Observer"] = "始终保持敏锐观察力",
    ["Gives Keen Observer to any creature!"] = "让任何生物都拥有敏锐观察力！",
    ["Always Lay Effect"] = "始终处于休息状态",
    ["It gives you the laid back effect which cures all your negative effects 4 times faster!"] = "让你获得休息状态效果，该效果能使你所有负面效果的持续时间缩短4倍！",
    ["Custom Stats"] = "自定义状态",
    ["No Lava Damage"] = "无熔岩伤害",
    ["Allows you to step on the lava without taking damage!"] = "允许你站在熔岩上而不会受到伤害！",
    ["No Drowning Damage"] = "无溺水伤害",
    ["If you don't move, you won't take damage!"] = "如果你不移动，你将不会受到伤害！",
    ["No Meteor Damage"] = "无流星伤害",
    ["Prevents you from losing health if a meteor falls on you!"] = "防止你被流星砸中而失去生命值！",
    ["No Moisture Damage"] = "无湿度伤害",
    ["Prevents you from losing health due to moisture!"] = "防止你因湿度而失去生命值！",
    ["No Tornado Damage"] = "无龙卷风伤害",
    ["Prevents you from losing health due to tornado event!"] = "防止你因龙卷风事件而失去生命值！",
    ["Auto Shelter"] = "自动庇护所",
    ["Prevents you from taking damage from events such as acid rain, earthquakes, or fruit wars!"] = "防止你受到酸雨、地震或水果战争等事件的伤害！",
    ["Extra"] = "额外功能",
    ["Nest Upgrade"] = "巢穴升级",
    ["Auto Nest Upgrade"] = "自动巢穴升级",
    ["Collect resources to automatically upgrade your nest!"] = "收集资源并自动升级你的巢穴！",
    ["Auto Nest"] = "自动巢穴",
    ["Enable Auto Nest"] = "启用自动巢穴",
    ["Create the nest and invite all your friends that are available automatically!"] = "创建巢穴并自动邀请所有在线的朋友！",
    ["Type of Invitation"] = "邀请类型",
    ["Friends"] = "朋友",
    ["Auto Accept Nest Request"] = "自动接受巢穴请求",
    ["Accept any type of invitation to nest as established!"] = "接受任何类型的巢穴邀请！",
    ["Teleport To Nest"] = "传送到巢穴",
    ["Re-spawn Nest"] = "重新生成巢穴",
    ["Combat"] = "战斗",
    ["Auto Aggressive State"] = "自动攻击状态",
    ["Increases damage by 25% and increases health regeneration by 50%!"] = "增加25%的伤害并增加50%的生命值恢复！",
    ["Auto Scared State"] = "自动恐惧状态",
    ["Decreases damage by 50% and increases health regeneration by 25%!"] = "减少50%的伤害并增加25%的生命值恢复！",
    ["Anti Broken Leg"] = "防断腿",
    ["Will make your legs unbreakable!"] = "你的腿不会断！",
    ["Anti Shredded Wings"] = "防撕裂翅膀",
    ["Will make your wings unbreakable!"] = "你的翅膀不会撕裂！",
    ["Anti Confusion"] = "防混乱",
    ["It will make you immune to the confusion effect!"] = "让你对混乱效果免疫！",
    ["Instant Kill (VERY RISKY)"] = "即时击杀（非常危险）",
    ["You need a creature with breath, when you get close to other creatures it will automatically kill them!"] = "你需要一种具有呼吸能力的生物，当你靠近其他生物时，它会自动将其击杀！",
    ["Anti Grab"] = "防抓握",
    ["Prevent any player from grabbing you!"] = "防止其他玩家抓住你！",
    ["Infinite Stamina"] = "无限耐力",
    ["You will never get tired again!"] = "你将永远不会感到疲倦！",
    ["Turn Radius"] = "转弯半径",
    ["Enable Custom Turn Radius"] = "启用自定义转弯半径",
    ["Activating this modifies your stat, if you deactivate it it will return to its original value!"] = "启用后，你的转弯半径将设置为对应数值，禁用则恢复原值！",
    ["Walk Speed"] = "行走速度",
    ["Enable Custom Walk Speed"] = "启用自定义行走速度",
    ["Sprint Speed"] = "冲刺速度",
    ["Enable Custom Sprint Speed"] = "启用自定义冲刺速度",
    ["Fly Speed"] = "飞行速度",
    ["Enable Custom Fly Speed"] = "启用自定义飞行速度",
    ["Survival Autofarm"] = "生存自动农场",
    ["Auto Eat"] = "自动进食",
    ["Prevent your creature from starving!"] = "防止你的生物饿死！",
    ["Auto Drink"] = "自动饮水",
    ["Prevent your creature from dying of thirst!"] = "防止你的生物渴死！",
    ["Auto Mud Roll"] = "自动泥滚",
    ["Automatically roll on your nearest mud!"] = "自动在最近的泥地上打滚！",
    ["Token Autofarm"] = "代币自动农场",
    ["Auto Gacha Tokens"] = "自动扭蛋代币",
    ["Automatically search for gacha tokens when it collects them and gacha you when it collects them!"] = "自动收集扭蛋代币，收集后自动为你扭蛋！",
    ["Mush Autofarm"] = "蘑菇自动农场",
    ["Region Missions Status"] = "区域任务状态",
    ["Offline"] = "离线",
    ["Auto Missions"] = "自动任务",
    ["Automatically completes region missions!"] = "自动完成区域任务！",
    ["Recommended"] = "推荐",
    ["Select Creature"] = "选择生物",
    ["Refresh Creature List"] = "刷新生物列表",
    ["Auto Spawn"] = "自动生成",
    ["Spawn, restart and claim death rewards automatically!"] = "生成、重新生成并自动领取死亡奖励！",
    ["Death Points Target"] = "死亡点数目标",
    ["Auto Self Kill"] = "自动自杀",
    ["Automatically kill your creature when it reaches the previously selected death points!"] = "当你的生物达到之前选择的死亡点数时，它会自动自杀！",
    ["Not enough creatures."] = "没有足够的生物。",
    ["Warning"] = "警告",
    ["Your account needs to have 20 or more different species unlocked!"] = "你的账户需要解锁20种或更多不同的物种！",
    ["Region Teleports"] = "区域传送",
    ["Jungle"] = "丛林",
    ["Algae Sandbar"] = "藻类沙洲",
    ["Central Rockfaces"] = "中央岩壁",
    ["Swamp Hill"] = "沼泽山丘",
    ["Coral Reef"] = "珊瑚礁",
    ["Desert"] = "沙漠",
    ["Grassy shoal"] = "多草浅滩",
    ["Rocky Drop"] = "岩石坠落区",
    ["Redwoods"] = "红木林",
    ["Mountains"] = "山脉",
    ["Tundra"] = "苔原",
    ["Seaweed Depths"] = "海藻深处",
    ["Flower Cave"] = "花之洞穴",
    ["Mesa"] = "平顶山",
    ["Pride Rocks"] = "骄傲岩石",
    ["Custom Teleports"] = "自定义传送",
    ["Custom Location"] = "自定义位置",
    ["Teleport to Location"] = "传送到位置",
    ["Location Name"] = "位置名称",
    ["Enter Name"] = "输入名称",
    ["Save Location"] = "保存位置",
    ["Delete Location"] = "删除位置",
    ["Kehmador"] = "凯马多尔",
    ["Galtekron"] = "加特克龙",
    ["Phantejer"] = "范特杰尔",
    ["Polymonstrum"] = "波利蒙斯特鲁姆",
    ["Purchase Slot"] = "购买档位",
    ["Exchange"] = "交换",
    ["Trade"] = "交易行",
    ["All Creatures"] = "所有生物",
    ["Free Creatures"] = "免费生物",
    ["Create"] = "创建",
    ["File"] = "文件",
    ["Enter Name"] = "输入名称",
    ["Friends"] = "朋友",
    ["Offers"] = "离线",
    ["Volcano Island"] = "火山岛",
    ["Minigame(s)"] = "小游戏",
    ["Event Not Detected"] = "未检测到事件",
    ["Last update (June 07-2025)"] = "上次更新（2025年6月7日）",
    ["Information"] = "信息",
    ["To stay informed about updates please join our discord!"] = "要了解更新信息，请加入我们的Discord！",
    ["Copy discord link"] = "复制Discord链接",
    ["Gacha Token ESP"] = "扭蛋代币ESP",
    ["Explorer Gacha Token Esp"] = "探索者扭蛋代币ESP",
    ["Galaxy Gacha Token Esp"] = "银河扭蛋代币ESP",
    ["Mecha Gacha Token Esp"] = "机甲扭蛋代币ESP",
    ["Monster Gacha Token Esp"] = "怪物扭蛋代币ESP",
    ["Sweet Gacha Token Esp"] = "甜蜜扭蛋代币ESP",
    ["Player ESP"] = "玩家ESP",
    ["Enable Player ESP"] = "启用玩家ESP",
    ["Player ESP Configurations:"] = "玩家ESP配置：",
    ["Display Health"] = "显示生命值",
    ["Display Health Bar"] = "显示生命条",
    ["Display Tracer"] = "显示追踪线",
    ["Display Names"] = "显示名称",
    ["Display Distance"] = "显示距离",
    ["Display 3D Box"] = "显示3D方框",
    ["Display Chameleon"] = "显示变色龙",
    ["Others ESP"] = "其他ESP",
    ["Abandoned Eggs Esp"] = "遗弃蛋ESP",
    ["Teleport to Abandoned Egg"] = "传送到遗弃蛋",
    ["Auto-Load"] = "自动加载",
    ["Anti-Lag"] = "反延迟",
    ["Config Name"] = "配置名称",
    ["Enter Name"] = "输入名称",
    ["Create config"] = "创建配置",
    ["Config list"] = "配置列表",
    ["Save config"] = "保存配置",
    ["Reset config"] = "重置配置",
    ["Delete config"] = "删除配置",
    ["Set as autoload"] = "设为自动加载",
    ["Low Quality Textures"] = "低画质纹理",
    ["White Screen"] = "白屏",
    ["Servers"] = "服务器",
    ["Rejoin Server"] = "重新加入服务器",
    ["Server Hop"] = "服务器跳转",
    ["Reset Server Hop Info"] = "重置服务器跳转信息",
    ["Misc"] = "杂项",
    ["Hide Ping and FPS"] = "隐藏Ping和FPS",
    ["Visual"] = "视觉",
    ["Remove Fog"] = "移除迷雾",
    ["Clear the fog from the map!"] = "清除地图中的迷雾！",
    ["Remove Camera Effects"] = "移除相机效果",
    ["Removes camera effects like Bleed, Nocliosion, Burn, Frostbite etc."] = "移除诸如流血、无碰撞、燃烧、冻伤等相机效果。",
    ["Remove Disaster Effects"] = "移除灾难效果",
    ["Removes disasters effects like Snow, Rain, Blizzard etc."] = "移除诸如雪、雨、暴风雪等灾难效果。",
    ["Anti-AFK"] = "防挂机",
    ["Custom Name"] = "自定义名称",
    ["Hide Username [Client-Sided]"] = "隐藏用户名 [客户端]",
    ["Any other user can see your username normally, only use this if you are going to record a video so as not to expose your real username!"] = "其他用户仍然可以正常看到你的用户名，仅在你打算录制视频时使用此功能以避免暴露真实用户名！",
    ["Discord"] = "Discord",
    ["Copy discord link"] = "复制Discord链接",
    ["Information"] = "信息",
    ["To get information about updates join our discord server!"] = "要获取更新信息，请加入我们的Discord服务器！"
}

local function translateText(text)
    if not text or type(text) ~= "string" then return text end
    
    if Translations[text] then
        return Translations[text]
    end
    
    for en, cn in pairs(Translations) do
        if text:find(en) then
            return text:gsub(en, cn)
        end
    end
    
    return text
end

local function setupTranslationEngine()
    local success, err = pcall(function()
        local oldIndex = getrawmetatable(game).__newindex
        setreadonly(getrawmetatable(game), false)
        
        getrawmetatable(game).__newindex = newcclosure(function(t, k, v)
            if (t:IsA("TextLabel") or t:IsA("TextButton") or t:IsA("TextBox")) and k == "Text" then
                v = translateText(tostring(v))
            end
            return oldIndex(t, k, v)
        end)
        
        setreadonly(getrawmetatable(game), true)
    end)
    
    if not success then
        warn("元表劫持失败:", err)
       
        local translated = {}
        local function scanAndTranslate()
            for _, gui in ipairs(game:GetService("CoreGui"):GetDescendants()) do
                if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                    pcall(function()
                        local text = gui.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                gui.Text = translatedText
                                translated[gui] = true
                            end
                        end
                    end)
                end
            end
            
            local player = game:GetService("Players").LocalPlayer
            if player and player:FindFirstChild("PlayerGui") then
                for _, gui in ipairs(player.PlayerGui:GetDescendants()) do
                    if (gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox")) and not translated[gui] then
                        pcall(function()
                            local text = gui.Text
                            if text and text ~= "" then
                                local translatedText = translateText(text)
                                if translatedText ~= text then
                                    gui.Text = translatedText
                                    translated[gui] = true
                                end
                            end
                        end)
                    end
                end
            end
        end
        
        local function setupDescendantListener(parent)
            parent.DescendantAdded:Connect(function(descendant)
                if descendant:IsA("TextLabel") or descendant:IsA("TextButton") or descendant:IsA("TextBox") then
                    task.wait(0.1)
                    pcall(function()
                        local text = descendant.Text
                        if text and text ~= "" then
                            local translatedText = translateText(text)
                            if translatedText ~= text then
                                descendant.Text = translatedText
                            end
                        end
                    end)
                end
            end)
        end
        
        pcall(setupDescendantListener, game:GetService("CoreGui"))
        local player = game:GetService("Players").LocalPlayer
        if player and player:FindFirstChild("PlayerGui") then
            pcall(setupDescendantListener, player.PlayerGui)
        end
        
        while true do
            scanAndTranslate()
            task.wait(3)
        end
    end
end

task.wait(2)

setupTranslationEngine()

local success, err = pcall(function()
--这下面填加载外部脚本
loadstring(game:HttpGet("https://raw.githubusercontent.com/Mangnex/Lunar-Hub/refs/heads/main/FreeLoader/Mua"))()


end)

if not success then
    warn("加载失败:", err)
end
